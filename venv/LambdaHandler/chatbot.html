<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Claude Chatbot</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Google Fonts for a modern look -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(120deg, #a1c4fd 0%, #c2e9fb 100%);
      font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
      margin: 0;
      padding: 0;
      min-height: 100vh;
    }
    .container {
      max-width: 480px;
      margin: 60px auto 0 auto;
      background: rgba(255,255,255,0.95);
      border-radius: 22px;
      box-shadow: 0 8px 32px rgba(60, 72, 88, 0.18);
      padding: 36px 30px 28px 30px;
      position: relative;
      overflow: hidden;
    }
    .container::before {
      content: "";
      position: absolute;
      top: -60px;
      right: -60px;
      width: 180px;
      height: 180px;
      background: radial-gradient(circle, #6366f1 0%, #818cf8 80%, transparent 100%);
      opacity: 0.12;
      z-index: 0;
    }
    h2 {
      text-align: center;
      color: #4f46e5;
      margin-bottom: 20px;
      letter-spacing: 1px;
      font-weight: 600;
      font-size: 2rem;
      z-index: 1;
      position: relative;
    }
    .chatbox {
      background: #f3f4f6;
      border-radius: 12px;
      padding: 18px 14px;
      min-height: 80px;
      font-size: 1.05rem;
      color: #22223b;
      white-space: pre-wrap;
      word-break: break-word;
      box-shadow: 0 1px 4px rgba(99, 102, 241, 0.04);
      margin-bottom: 18px;
      transition: background 0.2s;
      z-index: 1;
      position: relative;
    }
    textarea {
      width: 100%;
      border-radius: 10px;
      border: 1.5px solid #c7d2fe;
      padding: 14px;
      font-size: 1.08rem;
      resize: vertical;
      min-height: 60px;
      margin-bottom: 18px;
      transition: border 0.2s, box-shadow 0.2s;
      background: #f8fafc;
      font-family: inherit;
      z-index: 1;
      position: relative;
    }
    textarea:focus {
      border: 1.5px solid #6366f1;
      outline: none;
      box-shadow: 0 0 0 2px #c7d2fe55;
    }
    button {
      background: linear-gradient(90deg, #6366f1 0%, #818cf8 100%);
      color: #fff;
      border: none;
      border-radius: 10px;
      padding: 13px 0;
      font-size: 1.13rem;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(99, 102, 241, 0.10);
      transition: background 0.2s, transform 0.1s;
      width: 100%;
      z-index: 1;
      position: relative;
      letter-spacing: 0.5px;
    }
    button:disabled {
      opacity: 0.7;
      cursor: not-allowed;
    }
    button:hover:not(:disabled) {
      background: linear-gradient(90deg, #818cf8 0%, #6366f1 100%);
      transform: translateY(-2px) scale(1.03);
    }
    .footer {
      text-align: center;
      color: #7b7b8b;
      font-size: 1rem;
      margin-top: 38px;
      letter-spacing: 0.2px;
    }
    .footer a {
      color: #6366f1;
      text-decoration: none;
      font-weight: 500;
      transition: color 0.2s;
    }
    .footer a:hover {
      color: #4f46e5;
      text-decoration: underline;
    }
    .branding {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      margin-bottom: 18px;
      font-size: 1.1rem;
      color: #6366f1;
      font-weight: 500;
      letter-spacing: 0.5px;
    }
    .branding svg {
      width: 28px;
      height: 28px;
      vertical-align: middle;
    }
    @media (max-width: 600px) {
      .container {
        max-width: 98vw;
        padding: 18px 4vw 16px 4vw;
      }
      h2 {
        font-size: 1.3rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="branding">
      <svg viewBox="0 0 32 32" fill="none"><circle cx="16" cy="16" r="16" fill="#6366f1"/><text x="16" y="21" text-anchor="middle" font-size="16" fill="#fff" font-family="Arial" font-weight="bold">C</text></svg>
      Claude Chatbot
    </div>
    <h2>Ask Claude Anything</h2>
    <textarea id="prompt" rows="4" placeholder="Type your question here..."></textarea>
    <button id="sendBtn">üí¨ Ask Claude</button>
    <div class="chatbox" id="response">Your answer will appear here.</div>
  </div>
  <div class="footer">
    Powered by <a href="https://aws.amazon.com/bedrock/" target="_blank">AWS Bedrock</a> &amp; Claude &middot; <a href="https://github.com/aws" target="_blank">GitHub</a>
  </div>
  <script>
    async function askChatbot() {
      const prompt = document.getElementById('prompt').value.trim();
      const responseElem = document.getElementById('response');
      const button = document.getElementById('sendBtn');
      if (!prompt) {
        responseElem.textContent = "Please enter a question.";
        return;
      }
      responseElem.textContent = "Thinking...";
      button.disabled = true;
      button.textContent = "‚è≥ Loading...";
      try {
        const res = await fetch('https://uj64b90pz9.execute-api.us-west-2.amazonaws.com/TEST/chatbot', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ prompt })
        });
        const data = await res.json();
        let responseText = "";
        let body = data.body;
        if (typeof body === "string") {
          try {
            body = JSON.parse(body);
          } catch (e) {
            responseText = body;
          }
        }
        if (typeof body === "object" && (body.response || body.error)) {
          responseText = body.response || body.error;
        }
        if (!responseText) {
          responseText = "No response from Claude.";
        }
        responseElem.textContent = responseText;
      } catch (err) {
        responseElem.textContent = "Network error. Please try again.";
      } finally {
        button.disabled = false;
        button.textContent = "üí¨ Ask Claude";
      }
    }

    document.getElementById('sendBtn').addEventListener('click', askChatbot);

    document.getElementById('prompt').addEventListener('keypress', function(event) {
      if (event.key === 'Enter' && !event.shiftKey) {
        event.preventDefault();
        askChatbot();
      }
    });

    document.getElementById('prompt').focus();
  </script>